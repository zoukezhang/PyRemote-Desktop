我将为您实现一个类似于专业远程软件（如 ToDesk）的高级设置面板，解决延迟问题并提升功能丰富度。

## 1. 高级画质设置 (服务端)
- **设置面板**：在服务端增加一个“画质设置”区域。
- **可调选项**：
    - **分辨率**：原画、1920x1080、1280x720 (推荐)、800x600。
    - **画质**：高清 (75%)、均衡 (50%)、极速 (25%)。
    - **帧率 (FPS)**：30 (流畅)、15 (标准)、5 (省流)。
- **实时生效**：调整选项后，推流参数立即改变，无需重启。

## 2. 实时延迟显示 (客户端)
- **原理**：服务端发送画面时打上“发送时间戳”，客户端接收后与“当前时间”对比。
- **显示**：在客户端窗口标题栏或底部实时显示“延迟: XX ms”。

## 3. 其他实用功能 (参考 ToDesk)
- **自适应流控**：如果检测到网络堆积（发送队列过长），自动丢弃旧帧，防止延迟累积到 30 秒这种情况。
- **状态统计**：显示当前分辨率和传输速度（估算）。

## 执行步骤
1.  **停止** 现有服务。
2.  **重构 `server.py`**：
    - 增加 Tkinter 下拉菜单选择分辨率、画质、帧率。
    - 优化截图循环，根据设置进行缩放和压缩。
    - 增加时间戳发送。
3.  **重构 `client.py`**：
    - 解析时间戳，计算并显示延迟。
4.  **重启验证**：演示如何通过降低画质来瞬间解决 30 秒延迟的问题。
